<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Surfmate.io - Browser Automation for AI</title>
  <meta name="description" content="Let AI browse the web for you. MCP server that opens a visible browser for captchas and logins while AI controls navigation.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">surfmate<span>.io</span></div>
      <nav class="nav-links">
        <a href="#features">Features</a>
        <a href="#install">Install</a>
        <a href="#setup">Setup</a>
        <a href="https://github.com/afalcongonzalez/surfmate.io" class="github-btn">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
          </svg>
          GitHub
        </a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <div class="badge">MCP Protocol</div>
        <h1>Let AI <span class="gradient">browse the web</span> for you</h1>
        <p class="subtitle">Browser automation that works with Claude and ChatGPT. Opens a visible window so you can handle captchas and logins while AI controls everything else.</p>

        <div class="install-command" id="install-command">
          <div class="command-header">
            <span class="os-label" id="os-label">Detecting system...</span>
            <button class="copy-btn" id="copy-btn" onclick="copyCommand()">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
              </svg>
              <span>Copy</span>
            </button>
          </div>
          <pre><code id="command-text">Loading...</code></pre>
        </div>

        <div class="hero-buttons">
          <a href="#" class="btn btn-primary" id="download-btn">Download</a>
          <a href="#setup" class="btn btn-secondary">Setup Guide</a>
        </div>
      </div>
    </section>

    <section class="features" id="features">
      <div class="container">
        <div class="section-header">
          <h2>Built for AI agents</h2>
          <p>Everything you need for seamless browser automation</p>
        </div>
        <div class="feature-grid">
          <div class="feature">
            <div class="feature-icon">üîå</div>
            <h3>MCP Native</h3>
            <p>First-class Model Context Protocol support. Works out of the box with Claude Desktop and Claude Code.</p>
          </div>
          <div class="feature">
            <div class="feature-icon">ü§ñ</div>
            <h3>ChatGPT Ready</h3>
            <p>Run in HTTP mode with ngrok to use as a ChatGPT Action. Full OpenAPI spec included.</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üëÅ</div>
            <h3>Visible Browser</h3>
            <p>See what the AI is doing in real-time. Solve captchas and complete logins when needed.</p>
          </div>
          <div class="feature">
            <div class="feature-icon">üñ•</div>
            <h3>Cross Platform</h3>
            <p>Pre-built binaries for macOS (Intel & Apple Silicon), Linux, and Windows. No dependencies.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="install" id="install">
      <div class="container">
        <div class="section-header">
          <h2>Installation</h2>
          <p>Choose your platform</p>
        </div>

        <div class="os-tabs">
          <button class="os-tab active" data-os="macos" onclick="selectOS('macos')">macOS</button>
          <button class="os-tab" data-os="linux" onclick="selectOS('linux')">Linux</button>
          <button class="os-tab" data-os="windows" onclick="selectOS('windows')">Windows</button>
        </div>

        <div class="os-content" id="os-content-macos">
          <div class="code-block">
            <div class="code-header">
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-title">Terminal</span>
              <button class="copy-btn small" onclick="copyCode('macos')">Copy</button>
            </div>
            <div class="code-content">
              <code id="code-macos"># Download (Apple Silicon)
curl -L -o surfmate.io https://github.com/afalcongonzalez/surfmate.io/releases/latest/download/surfmate.io-darwin-arm64

# Or for Intel Mac:
# curl -L -o surfmate.io https://github.com/afalcongonzalez/surfmate.io/releases/latest/download/surfmate.io-darwin-amd64

# Remove Apple quarantine and make executable
xattr -d com.apple.quarantine surfmate.io
chmod +x surfmate.io

# Install (requires admin password)
sudo mv surfmate.io /usr/local/bin/</code>
            </div>
          </div>
          <div class="note warning">
            <strong>Note:</strong> macOS may block the app. If you see "cannot be opened", run the <code>xattr</code> command above to remove the quarantine flag.
          </div>
        </div>

        <div class="os-content hidden" id="os-content-linux">
          <div class="code-block">
            <div class="code-header">
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-title">Terminal</span>
              <button class="copy-btn small" onclick="copyCode('linux')">Copy</button>
            </div>
            <div class="code-content">
              <code id="code-linux"># Download (x64)
curl -L -o surfmate.io https://github.com/afalcongonzalez/surfmate.io/releases/latest/download/surfmate.io-linux-amd64

# Or for ARM64:
# curl -L -o surfmate.io https://github.com/afalcongonzalez/surfmate.io/releases/latest/download/surfmate.io-linux-arm64

# Make executable
chmod +x surfmate.io

# Install (requires sudo)
sudo mv surfmate.io /usr/local/bin/</code>
            </div>
          </div>
        </div>

        <div class="os-content hidden" id="os-content-windows">
          <div class="code-block">
            <div class="code-header">
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-dot"></span>
              <span class="code-title">PowerShell (Admin)</span>
              <button class="copy-btn small" onclick="copyCode('windows')">Copy</button>
            </div>
            <div class="code-content">
              <code id="code-windows"># Download
Invoke-WebRequest -Uri "https://github.com/afalcongonzalez/surfmate.io/releases/latest/download/surfmate.io-windows-amd64.exe" -OutFile "surfmate.io.exe"

# Move to a folder in your PATH (create if needed)
New-Item -ItemType Directory -Force -Path "$env:USERPROFILE\bin"
Move-Item surfmate.io.exe "$env:USERPROFILE\bin\"

# Add to PATH (run once)
[Environment]::SetEnvironmentVariable("Path", $env:Path + ";$env:USERPROFILE\bin", "User")</code>
            </div>
          </div>
          <div class="note warning">
            <strong>Note:</strong> Windows may show a SmartScreen warning. Click "More info" then "Run anyway".
          </div>
        </div>

        <div class="platforms-grid" id="platforms-grid">
          <p class="loading-text">Loading releases...</p>
        </div>
      </div>
    </section>

    <section class="setup" id="setup">
      <div class="container">
        <div class="section-header">
          <h2>Setup Guide</h2>
          <p>Choose your AI platform</p>
        </div>

        <div class="setup-tabs">
          <button class="setup-tab active" data-setup="claude-desktop" onclick="selectSetup('claude-desktop')">Claude Desktop</button>
          <button class="setup-tab" data-setup="claude-code" onclick="selectSetup('claude-code')">Claude Code</button>
          <button class="setup-tab" data-setup="chatgpt" onclick="selectSetup('chatgpt')">ChatGPT</button>
        </div>

        <!-- Claude Desktop Setup -->
        <div class="setup-content" id="setup-claude-desktop">
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>Open your Claude Desktop config</h3>
                <div class="config-paths">
                  <div class="config-path">
                    <span class="path-label">macOS</span>
                    <code>~/Library/Application Support/Claude/claude_desktop_config.json</code>
                  </div>
                  <div class="config-path">
                    <span class="path-label">Windows</span>
                    <code>%APPDATA%\Claude\claude_desktop_config.json</code>
                  </div>
                  <div class="config-path">
                    <span class="path-label">Linux</span>
                    <code>~/.config/Claude/claude_desktop_config.json</code>
                  </div>
                </div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>Add the MCP server config</h3>
                <div class="code-block">
                  <div class="code-header">
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-title">claude_desktop_config.json</span>
                    <button class="copy-btn small" onclick="copyEl('config-claude-desktop')">Copy</button>
                  </div>
                  <div class="code-content">
                    <code id="config-claude-desktop">{
  "mcpServers": {
    "surfmate": {
      "command": "surfmate.io"
    }
  }
}</code>
                  </div>
                </div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>Restart Claude Desktop and start browsing</h3>
                <div class="example-prompts">
                  <div class="prompt">"Go to news.ycombinator.com and summarize the top 5 stories"</div>
                  <div class="prompt">"Navigate to my email and wait for me to log in"</div>
                  <div class="prompt">"Take a screenshot of the current page"</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Claude Code Setup -->
        <div class="setup-content hidden" id="setup-claude-code">
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>Add to your project's MCP config</h3>
                <div class="code-block">
                  <div class="code-header">
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-title">.claude/settings.json</span>
                    <button class="copy-btn small" onclick="copyEl('config-claude-code')">Copy</button>
                  </div>
                  <div class="code-content">
                    <code id="config-claude-code">{
  "mcpServers": {
    "surfmate": {
      "command": "surfmate.io"
    }
  }
}</code>
                  </div>
                </div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>Restart Claude Code and use browser tools</h3>
                <div class="example-prompts">
                  <div class="prompt">"Use the browser to check if example.com is up"</div>
                  <div class="prompt">"Navigate to the docs site and extract the API reference"</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ChatGPT Setup -->
        <div class="setup-content hidden" id="setup-chatgpt">
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3>Start surfmate.io in HTTP mode</h3>
                <div class="code-block">
                  <div class="code-header">
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-title">Terminal</span>
                    <button class="copy-btn small" onclick="copyEl('code-chatgpt-1')">Copy</button>
                  </div>
                  <div class="code-content">
                    <code id="code-chatgpt-1">surfmate.io -http -port 8080</code>
                  </div>
                </div>
              </div>
            </div>

            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3>Expose with ngrok</h3>
                <p class="step-desc">Install <a href="https://ngrok.com/download" target="_blank">ngrok</a> if you haven't, then run:</p>
                <div class="code-block">
                  <div class="code-header">
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-dot"></span>
                    <span class="code-title">Terminal (new tab)</span>
                    <button class="copy-btn small" onclick="copyEl('code-chatgpt-2')">Copy</button>
                  </div>
                  <div class="code-content">
                    <code id="code-chatgpt-2">ngrok http 8080</code>
                  </div>
                </div>
                <p class="step-desc">Copy the HTTPS URL (e.g., <code>https://abc123.ngrok.io</code>)</p>
              </div>
            </div>

            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3>Create a ChatGPT Action</h3>
                <ol class="step-list">
                  <li>Go to <a href="https://chat.openai.com" target="_blank">chat.openai.com</a> and open a GPT you can edit (or create one)</li>
                  <li>Click <strong>Configure</strong> ‚Üí <strong>Create new action</strong></li>
                  <li>For the schema, import from URL: <code>YOUR_NGROK_URL/openapi.yaml</code></li>
                  <li>Set Authentication to <strong>None</strong></li>
                  <li>Save and test!</li>
                </ol>
              </div>
            </div>

            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h3>Use it in ChatGPT</h3>
                <div class="example-prompts">
                  <div class="prompt">"Navigate to https://example.com and tell me what you see"</div>
                  <div class="prompt">"Go to Wikipedia and search for 'artificial intelligence'"</div>
                </div>
              </div>
            </div>
          </div>

          <div class="note info">
            <strong>Tip:</strong> Keep the terminal windows open while using ChatGPT. The browser window will appear on your machine, so you can solve captchas when needed.
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>Built by <a href="https://github.com/afalcongonzalez">afalcongonzalez</a></p>
      <div class="footer-links">
        <a href="https://github.com/afalcongonzalez/surfmate.io">GitHub</a>
        <a href="https://github.com/afalcongonzalez/surfmate.io/issues">Issues</a>
      </div>
    </div>
  </footer>

  <script>
    const REPO = 'afalcongonzalez/surfmate.io';

    function detectPlatform() {
      const ua = navigator.userAgent.toLowerCase();
      const platform = navigator.platform.toLowerCase();

      let os = 'linux';
      if (ua.includes('win') || platform.includes('win')) os = 'windows';
      else if (ua.includes('mac') || platform.includes('mac')) os = 'macos';

      let arch = 'amd64';
      if (ua.includes('arm') || ua.includes('aarch64') ||
          (os === 'macos' && !ua.includes('intel'))) {
        arch = 'arm64';
      }

      return { os, arch };
    }

    const platformInfo = {
      macos: {
        arm64: { label: 'macOS Apple Silicon', file: 'surfmate.io-darwin-arm64' },
        amd64: { label: 'macOS Intel', file: 'surfmate.io-darwin-amd64' }
      },
      linux: {
        amd64: { label: 'Linux x64', file: 'surfmate.io-linux-amd64' },
        arm64: { label: 'Linux ARM64', file: 'surfmate.io-linux-arm64' }
      },
      windows: {
        amd64: { label: 'Windows x64', file: 'surfmate.io-windows-amd64.exe' }
      }
    };

    function getInstallCommand(os, arch, url) {
      if (os === 'macos') {
        return `# Download and install (requires admin password)
curl -L -o surfmate.io "${url}"
xattr -d com.apple.quarantine surfmate.io
chmod +x surfmate.io
sudo mv surfmate.io /usr/local/bin/`;
      } else if (os === 'linux') {
        return `# Download and install (requires sudo)
curl -L -o surfmate.io "${url}"
chmod +x surfmate.io
sudo mv surfmate.io /usr/local/bin/`;
      } else {
        return `# Download (PowerShell as Admin)
Invoke-WebRequest -Uri "${url}" -OutFile "surfmate.io.exe"`;
      }
    }

    async function init() {
      const { os, arch } = detectPlatform();
      const info = platformInfo[os]?.[arch] || platformInfo[os]?.amd64;

      selectOS(os);

      try {
        const resp = await fetch(`https://api.github.com/repos/${REPO}/releases/latest`);
        if (!resp.ok) throw new Error('No releases');

        const release = await resp.json();
        const asset = release.assets.find(a => a.name === info.file);

        if (asset) {
          const url = asset.browser_download_url;

          document.getElementById('os-label').textContent = `Quick Install - ${info.label}`;
          document.getElementById('command-text').textContent = getInstallCommand(os, arch, url);
          document.getElementById('download-btn').href = url;
          document.getElementById('download-btn').textContent = `Download for ${info.label}`;

          // Build platforms grid
          const grid = document.getElementById('platforms-grid');
          const platforms = [
            { os: 'macos', arch: 'arm64' },
            { os: 'macos', arch: 'amd64' },
            { os: 'linux', arch: 'amd64' },
            { os: 'linux', arch: 'arm64' },
            { os: 'windows', arch: 'amd64' }
          ];

          grid.innerHTML = '<h4>All Downloads</h4><div class="platform-buttons">' +
            platforms.map(p => {
              const pInfo = platformInfo[p.os]?.[p.arch];
              if (!pInfo) return '';
              const pAsset = release.assets.find(a => a.name === pInfo.file);
              if (!pAsset) return '';
              return `<a href="${pAsset.browser_download_url}" class="platform-btn">
                <span class="os">${pInfo.label}</span>
              </a>`;
            }).join('') + '</div>';
        }
      } catch (e) {
        document.getElementById('os-label').textContent = 'Build from source';
        document.getElementById('command-text').textContent =
          'git clone https://github.com/afalcongonzalez/surfmate.io.git && cd surfmate.io && go build -o surfmate.io .';
        document.getElementById('download-btn').href = `https://github.com/${REPO}`;
        document.getElementById('download-btn').textContent = 'View on GitHub';
        document.getElementById('platforms-grid').innerHTML =
          '<p class="no-release">No releases yet. <a href="https://github.com/' + REPO + '">Build from source</a>.</p>';
      }
    }

    function selectOS(os) {
      document.querySelectorAll('.os-tab').forEach(t => t.classList.toggle('active', t.dataset.os === os));
      document.querySelectorAll('.os-content').forEach(c => c.classList.add('hidden'));
      document.getElementById('os-content-' + os)?.classList.remove('hidden');
    }

    function selectSetup(setup) {
      document.querySelectorAll('.setup-tab').forEach(t => t.classList.toggle('active', t.dataset.setup === setup));
      document.querySelectorAll('.setup-content').forEach(c => c.classList.add('hidden'));
      document.getElementById('setup-' + setup)?.classList.remove('hidden');
    }

    function copyCommand() {
      navigator.clipboard.writeText(document.getElementById('command-text').textContent);
      const btn = document.getElementById('copy-btn');
      btn.querySelector('span').textContent = 'Copied!';
      setTimeout(() => btn.querySelector('span').textContent = 'Copy', 2000);
    }

    function copyCode(os) {
      navigator.clipboard.writeText(document.getElementById('code-' + os).textContent);
    }

    function copyEl(id) {
      navigator.clipboard.writeText(document.getElementById(id).textContent);
    }

    init();
  </script>
</body>
</html>
